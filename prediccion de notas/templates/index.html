<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictor de Rendimiento Estudiantil</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- CSS personalizado -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Header principal -->
    <header class="main-header">
        <div class="container text-center">
            <i class="fas fa-graduation-cap header-icon"></i>
            <h1 class="display-4 fw-bold mb-3">
                <i class="fas fa-brain me-2"></i>
                Predicción de Rendimiento Académico
            </h1>
            <p class="lead mb-0">
                <i class="fas fa-robot me-2"></i>
                Utilizando Machine Learning (Aprendizaje Supervisado)
            </p>
        </div>
    </header>

    <div class="container my-5">
        <!-- Mostrar error si existe -->
        {% if error %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="fas fa-exclamation-triangle me-2"></i>
            {{ error }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
        {% endif %}

        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Formulario -->
                <div class="card shadow-lg">
                    <div class="card-header">
                        <h3 class="mb-0">
                            <i class="fas fa-user-graduate me-2"></i>
                            Datos del Estudiante
                        </h3>
                    </div>
                    <div class="card-body p-4">
                        <form action="{{ url_for('predecir') }}" method="post">
                            <div class="row">
                                <!-- Campo: Horas de estudio -->
                                <div class="col-md-6 mb-3">
                                    <div class="form-floating">
                                        <input type="number" 
                                               class="form-control" 
                                               id="horas_estudio" 
                                               name="horas_estudio" 
                                               min="0" max="40" step="1" 
                                               placeholder="Horas semanales"
                                               required>
                                        <label for="horas_estudio">
                                            <i class="fas fa-clock me-2"></i>
                                            Horas de estudio semanales
                                        </label>
                                        <div class="form-text">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Entre 0 y 40 horas
                                        </div>
                                    </div>
                                </div>

                                <!-- Campo: Asistencia -->
                                <div class="col-md-6 mb-3">
                                    <div class="form-floating">
                                        <input type="number" 
                                               class="form-control" 
                                               id="asistencia" 
                                               name="asistencia" 
                                               min="0" max="100" step="1" 
                                               placeholder="Porcentaje"
                                               required>
                                        <label for="asistencia">
                                            <i class="fas fa-calendar-check me-2"></i>
                                            Porcentaje de asistencia
                                        </label>
                                        <div class="form-text">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Entre 0% y 100%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Campo: Trabajos completados -->
                                <div class="col-md-6 mb-3">
                                    <div class="form-floating">
                                        <input type="number" 
                                               class="form-control" 
                                               id="trabajos_completados" 
                                               name="trabajos_completados" 
                                               min="0" max="10" step="1" 
                                               placeholder="Trabajos"
                                               required>
                                        <label for="trabajos_completados">
                                            <i class="fas fa-tasks me-2"></i>
                                            Trabajos completados
                                        </label>
                                        <div class="form-text">
                                            <i class="fas fa-info-circle me-1"></i>
                                            De un total de 10 trabajos
                                        </div>
                                    </div>
                                </div>

                                <!-- Campo: Nota parcial -->
                                <div class="col-md-6 mb-3">
                                    <div class="form-floating">
                                        <input type="number" 
                                               class="form-control" 
                                               id="nota_parcial" 
                                               name="nota_parcial" 
                                               min="0" max="20" step="0.1" 
                                               placeholder="Nota"
                                               required>
                                        <label for="nota_parcial">
                                            <i class="fas fa-file-alt me-2"></i>
                                            Nota del examen parcial
                                        </label>
                                        <div class="form-text">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Entre 0 y 20 puntos
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Botón de predicción -->
                            <div class="d-grid gap-2 mt-4">
                                <button type="submit" class="btn btn-predict btn-lg">
                                    <i class="fas fa-magic me-2"></i>
                                    Predecir Nota Final
                                    <i class="fas fa-arrow-right ms-2"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Sección de resultados -->
                {% if prediccion %}
                <div class="card shadow-lg mt-4 prediction-card">
                    <div class="card-header text-center">
                        <h3 class="mb-0">
                            <i class="fas fa-chart-line me-2"></i>
                            Resultado de la Predicción
                        </h3>
                    </div>
                    <div class="card-body {{ clase_resultado }}">
                        <!-- Puntuación principal -->
                        <div class="score-display">
                            <div class="score-number">{{ prediccion }}/20</div>
                            <div class="score-icon">
                                {% if clase_resultado == 'excelente' %}
                                    <i class="fas fa-trophy"></i>
                                {% elif clase_resultado == 'bueno' %}
                                    <i class="fas fa-thumbs-up"></i>
                                {% elif clase_resultado == 'regular' %}
                                    <i class="fas fa-exclamation-circle"></i>
                                {% else %}
                                    <i class="fas fa-times-circle"></i>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Nivel de rendimiento -->
                        <div class="text-center mb-4">
                            <span class="level-badge {{ clase_resultado }}">
                                {{ nivel }}
                            </span>
                        </div>

                        <!-- Mensaje y recomendación -->
                        <div class="row">
                            <div class="col-md-6">
                                <div class="info-card">
                                    <h5 class="text-primary">
                                        <i class="fas fa-info-circle me-2"></i>
                                        Evaluación
                                    </h5>
                                    <p class="mb-0">{{ mensaje }}</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="info-card">
                                    <h5 class="text-success">
                                        <i class="fas fa-lightbulb me-2"></i>
                                        Recomendación
                                    </h5>
                                    <p class="mb-0">{{ recomendacion }}</p>
                                </div>
                            </div>
                        </div>

                        <!-- Datos ingresados -->
                        <div class="mt-4">
                            <h5 class="text-secondary mb-3">
                                <i class="fas fa-database me-2"></i>
                                Datos Ingresados
                            </h5>
                            <div class="row text-center">
                                <div class="col-6 col-md-3 mb-2">
                                    <div class="data-item">
                                        <i class="fas fa-clock text-primary"></i>
                                        <div class="data-value">{{ datos.horas_estudio }}h</div>
                                        <div class="data-label">Estudio</div>
                                    </div>
                                </div>
                                <div class="col-6 col-md-3 mb-2">
                                    <div class="data-item">
                                        <i class="fas fa-calendar-check text-success"></i>
                                        <div class="data-value">{{ datos.asistencia }}%</div>
                                        <div class="data-label">Asistencia</div>
                                    </div>
                                </div>
                                <div class="col-6 col-md-3 mb-2">
                                    <div class="data-item">
                                        <i class="fas fa-tasks text-warning"></i>
                                        <div class="data-value">{{ datos.trabajos_completados }}/10</div>
                                        <div class="data-label">Trabajos</div>
                                    </div>
                                </div>
                                <div class="col-6 col-md-3 mb-2">
                                    <div class="data-item">
                                        <i class="fas fa-file-alt text-info"></i>
                                        <div class="data-value">{{ datos.nota_parcial }}/20</div>
                                        <div class="data-label">Parcial</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container text-center">
            <p class="mb-2">
                <i class="fas fa-cogs me-2"></i>
            <p class="mb-0">
                <i class="fas fa-user me-2"></i>
                Autor: ROJAS MACHUCA JHANPIER 
            </p>
        </div>
    </footer>

    <!-- Bootstrap 5 JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>